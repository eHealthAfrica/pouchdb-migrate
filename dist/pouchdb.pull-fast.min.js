!function t(e,n,r){function o(s,u){if(!n[s]){if(!e[s]){var a="function"==typeof require&&require;if(!u&&a)return a(s,!0);if(i)return i(s,!0);var f=new Error("Cannot find module '"+s+"'");throw f.code="MODULE_NOT_FOUND",f}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){var n=e[s][1][t];return o(n?n:t)},c,c.exports,t,e,n,r)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(t,e,n){var r=t("./lib/md5"),o=t("pouchdb/extras/promise");n.migrate=function(t,e){var n=this;if(!t)throw new Error("no migration given");if("function"!=typeof t)throw new Error("migration must be a function");var i=new o(function(e,o){r(t.toString(),function(r,i){if(r)return o(r);var s="_local/"+i;n.get(s,function(r,i){r&&(i={_id:s,last_seq:0});var u=n.changes({include_docs:!0,since:i.last_seq});u.on("change",function(e){var r=t(e.doc);r&&(i.last_seq=e.seq,n.bulkDocs({docs:r},function(t){return t?o(t):void n.put(i,function(t,e){return t?o(t):void(i._rev=e.rev)})}))}),u.on("error",o),u.on("complete",e)})})});return"function"==typeof e?i.then(function(t){e(null,t)})["catch"](function(t){return e(t),o.reject(t)}):i},"undefined"!=typeof window&&window.PouchDB&&window.PouchDB.plugin(n)},{"./lib/md5":2,"pouchdb/extras/promise":5}],2:[function(t,e,n){(function(n,r){"use strict";function o(t,e,n){if("function"==typeof t.slice)return e?n?t.slice(e,n):t.slice(e):t.slice();e=Math.floor(e||0),n=Math.floor(n||0);var r=t.byteLength;if(e=0>e?Math.max(e+r,0):Math.min(r,e),n=0>n?Math.max(n+r,0):Math.min(r,n),0>=n-e)return new ArrayBuffer(0);var o=new ArrayBuffer(n-e),i=new Uint8Array(o),s=new Uint8Array(t,e,n-e);return i.set(s),o}function i(t){var e=[255&t,t>>>8&255,t>>>16&255,t>>>24&255];return e.map(function(t){return String.fromCharCode(t)}).join("")}function s(t){for(var e="",n=0;n<t.length;n++)e+=i(t[n]);return r.btoa(e)}var u=t("crypto"),a=t("spark-md5"),f=r.setImmediate||r.setTimeout,c=32768;e.exports=function(t,e){function r(t,e,n,r){h?t.appendBinary(e.substring(n,r)):t.append(o(e,n,r))}function i(){var n=y*d,o=n+d;if(n+d>=t.size&&(o=t.size),y++,v>y)r(m,t,n,o),f(i);else{r(m,t,n,o);var u=m.end(!0),a=s(u);e(null,a),m.destroy()}}if(!n.browser){var l=u.createHash("md5").update(t).digest("base64");return void e(null,l)}var h="string"==typeof t,p=h?t.length:t.byteLength,d=Math.min(c,p),v=Math.ceil(p/d),y=0,m=h?new a:new a.ArrayBuffer;i()}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:4,crypto:3,"spark-md5":25}],3:[function(t,e,n){},{}],4:[function(t,e,n){function r(){c=!1,u.length?f=u.concat(f):l=-1,f.length&&o()}function o(){if(!c){var t=setTimeout(r);c=!0;for(var e=f.length;e;){for(u=f,f=[];++l<e;)u[l].run();l=-1,e=f.length}u=null,c=!1,clearTimeout(t)}}function i(t,e){this.fun=t,this.array=e}function s(){}var u,a=e.exports={},f=[],c=!1,l=-1;a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new i(t,e)),c||setTimeout(o,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=s,a.addListener=s,a.once=s,a.off=s,a.removeListener=s,a.removeAllListeners=s,a.emit=s,a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],5:[function(t,e,n){"use strict";e.exports=t("../lib/deps/promise")},{"../lib/deps/promise":6}],6:[function(t,e,n){"use strict";"function"==typeof Promise?e.exports=Promise:e.exports=t("bluebird")},{bluebird:10}],7:[function(t,e,n){"use strict";function r(){}e.exports=r},{}],8:[function(t,e,n){"use strict";function r(t){function e(t,e){function o(t){f[e]=t,++c===n&!r&&(r=!0,a.resolve(h,f))}s(t).then(o,function(t){r||(r=!0,a.reject(h,t))})}if("[object Array]"!==Object.prototype.toString.call(t))return i(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return s([]);for(var f=new Array(n),c=0,l=-1,h=new o(u);++l<n;)e(t[l],l);return h}var o=t("./promise"),i=t("./reject"),s=t("./resolve"),u=t("./INTERNAL"),a=t("./handlers");e.exports=r},{"./INTERNAL":7,"./handlers":9,"./promise":11,"./reject":14,"./resolve":15}],9:[function(t,e,n){"use strict";function r(t){var e=t&&t.then;return t&&"object"==typeof t&&"function"==typeof e?function(){e.apply(t,arguments)}:void 0}var o=t("./tryCatch"),i=t("./resolveThenable"),s=t("./states");n.resolve=function(t,e){var u=o(r,e);if("error"===u.status)return n.reject(t,u.value);var a=u.value;if(a)i.safely(t,a);else{t.state=s.FULFILLED,t.outcome=e;for(var f=-1,c=t.queue.length;++f<c;)t.queue[f].callFulfilled(e)}return t},n.reject=function(t,e){t.state=s.REJECTED,t.outcome=e;for(var n=-1,r=t.queue.length;++n<r;)t.queue[n].callRejected(e);return t}},{"./resolveThenable":16,"./states":17,"./tryCatch":18}],10:[function(t,e,n){e.exports=n=t("./promise"),n.resolve=t("./resolve"),n.reject=t("./reject"),n.all=t("./all"),n.race=t("./race")},{"./all":8,"./promise":11,"./race":13,"./reject":14,"./resolve":15}],11:[function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=u.PENDING,this.queue=[],this.outcome=void 0,t!==i&&s.safely(this,t)}var o=t("./unwrap"),i=t("./INTERNAL"),s=t("./resolveThenable"),u=t("./states"),a=t("./queueItem");e.exports=r,r.prototype["catch"]=function(t){return this.then(null,t)},r.prototype.then=function(t,e){if("function"!=typeof t&&this.state===u.FULFILLED||"function"!=typeof e&&this.state===u.REJECTED)return this;var n=new r(i);if(this.state!==u.PENDING){var s=this.state===u.FULFILLED?t:e;o(n,s,this.outcome)}else this.queue.push(new a(n,t,e));return n}},{"./INTERNAL":7,"./queueItem":12,"./resolveThenable":16,"./states":17,"./unwrap":19}],12:[function(t,e,n){"use strict";function r(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}var o=t("./handlers"),i=t("./unwrap");e.exports=r,r.prototype.callFulfilled=function(t){o.resolve(this.promise,t)},r.prototype.otherCallFulfilled=function(t){i(this.promise,this.onFulfilled,t)},r.prototype.callRejected=function(t){o.reject(this.promise,t)},r.prototype.otherCallRejected=function(t){i(this.promise,this.onRejected,t)}},{"./handlers":9,"./unwrap":19}],13:[function(t,e,n){"use strict";function r(t){function e(t){s(t).then(function(t){r||(r=!0,a.resolve(c,t))},function(t){r||(r=!0,a.reject(c,t))})}if("[object Array]"!==Object.prototype.toString.call(t))return i(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return s([]);for(var f=-1,c=new o(u);++f<n;)e(t[f]);return c}var o=t("./promise"),i=t("./reject"),s=t("./resolve"),u=t("./INTERNAL"),a=t("./handlers");e.exports=r},{"./INTERNAL":7,"./handlers":9,"./promise":11,"./reject":14,"./resolve":15}],14:[function(t,e,n){"use strict";function r(t){var e=new o(i);return s.reject(e,t)}var o=t("./promise"),i=t("./INTERNAL"),s=t("./handlers");e.exports=r},{"./INTERNAL":7,"./handlers":9,"./promise":11}],15:[function(t,e,n){"use strict";function r(t){if(t)return t instanceof o?t:s.resolve(new o(i),t);var e=typeof t;switch(e){case"boolean":return u;case"undefined":return f;case"object":return a;case"number":return c;case"string":return l}}var o=t("./promise"),i=t("./INTERNAL"),s=t("./handlers");e.exports=r;var u=s.resolve(new o(i),!1),a=s.resolve(new o(i),null),f=s.resolve(new o(i),void 0),c=s.resolve(new o(i),0),l=s.resolve(new o(i),"")},{"./INTERNAL":7,"./handlers":9,"./promise":11}],16:[function(t,e,n){"use strict";function r(t,e){function n(e){u||(u=!0,o.reject(t,e))}function r(e){u||(u=!0,o.resolve(t,e))}function s(){e(r,n)}var u=!1,a=i(s);"error"===a.status&&n(a.value)}var o=t("./handlers"),i=t("./tryCatch");n.safely=r},{"./handlers":9,"./tryCatch":18}],17:[function(t,e,n){n.REJECTED=["REJECTED"],n.FULFILLED=["FULFILLED"],n.PENDING=["PENDING"]},{}],18:[function(t,e,n){"use strict";function r(t,e){var n={};try{n.value=t(e),n.status="success"}catch(r){n.status="error",n.value=r}return n}e.exports=r},{}],19:[function(t,e,n){"use strict";function r(t,e,n){o(function(){var r;try{r=e(n)}catch(o){return i.reject(t,o)}r===t?i.reject(t,new TypeError("Cannot resolve promise with itself")):i.resolve(t,r)})}var o=t("immediate"),i=t("./handlers");e.exports=r},{"./handlers":9,immediate:20}],20:[function(t,e,n){"use strict";function r(){s=!1,u&&u.length?l=u.concat(l):c=-1,l.length&&o()}function o(){s=!0;for(var t=l.length,e=setTimeout(r);t;){for(u=l,l=[];++c<t;)u[c]();c=-1,t=l.length}c=-1,s=!1,clearTimeout(e)}function i(t){1!==l.push(t)||s||a()}for(var s,u,a,f=[t("./nextTick"),t("./mutation.js"),t("./messageChannel"),t("./stateChange"),t("./timeout")],c=-1,l=[],h=-1,p=f.length;++h<p;)if(f[h]&&f[h].test&&f[h].test()){a=f[h].install(o);break}e.exports=i},{"./messageChannel":21,"./mutation.js":22,"./nextTick":3,"./stateChange":23,"./timeout":24}],21:[function(t,e,n){(function(t){"use strict";n.test=function(){return t.setImmediate?!1:"undefined"!=typeof t.MessageChannel},n.install=function(e){var n=new t.MessageChannel;return n.port1.onmessage=e,function(){n.port2.postMessage(0)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],22:[function(t,e,n){(function(t){"use strict";var e=t.MutationObserver||t.WebKitMutationObserver;n.test=function(){return e},n.install=function(n){var r=0,o=new e(n),i=t.document.createTextNode("");return o.observe(i,{characterData:!0}),function(){i.data=r=++r%2}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],23:[function(t,e,n){(function(t){"use strict";n.test=function(){return"document"in t&&"onreadystatechange"in t.document.createElement("script")},n.install=function(e){return function(){var n=t.document.createElement("script");return n.onreadystatechange=function(){e(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},t.document.documentElement.appendChild(n),e}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],24:[function(t,e,n){"use strict";n.test=function(){return!0},n.install=function(t){return function(){setTimeout(t,0)}}},{}],25:[function(t,e,n){!function(t){if("object"==typeof n)e.exports=t();else if("function"==typeof define&&define.amd)define(t);else{var r;try{r=window}catch(o){r=self}r.SparkMD5=t()}}(function(t){"use strict";var e=function(t,e){return t+e&4294967295},n=function(t,n,r,o,i,s){return n=e(e(n,t),e(o,s)),e(n<<i|n>>>32-i,r)},r=function(t,e,r,o,i,s,u){return n(e&r|~e&o,t,e,i,s,u)},o=function(t,e,r,o,i,s,u){return n(e&o|r&~o,t,e,i,s,u)},i=function(t,e,r,o,i,s,u){return n(e^r^o,t,e,i,s,u)},s=function(t,e,r,o,i,s,u){return n(r^(e|~o),t,e,i,s,u)},u=function(t,n){var u=t[0],a=t[1],f=t[2],c=t[3];u=r(u,a,f,c,n[0],7,-680876936),c=r(c,u,a,f,n[1],12,-389564586),f=r(f,c,u,a,n[2],17,606105819),a=r(a,f,c,u,n[3],22,-1044525330),u=r(u,a,f,c,n[4],7,-176418897),c=r(c,u,a,f,n[5],12,1200080426),f=r(f,c,u,a,n[6],17,-1473231341),a=r(a,f,c,u,n[7],22,-45705983),u=r(u,a,f,c,n[8],7,1770035416),c=r(c,u,a,f,n[9],12,-1958414417),f=r(f,c,u,a,n[10],17,-42063),a=r(a,f,c,u,n[11],22,-1990404162),u=r(u,a,f,c,n[12],7,1804603682),c=r(c,u,a,f,n[13],12,-40341101),f=r(f,c,u,a,n[14],17,-1502002290),a=r(a,f,c,u,n[15],22,1236535329),u=o(u,a,f,c,n[1],5,-165796510),c=o(c,u,a,f,n[6],9,-1069501632),f=o(f,c,u,a,n[11],14,643717713),a=o(a,f,c,u,n[0],20,-373897302),u=o(u,a,f,c,n[5],5,-701558691),c=o(c,u,a,f,n[10],9,38016083),f=o(f,c,u,a,n[15],14,-660478335),a=o(a,f,c,u,n[4],20,-405537848),u=o(u,a,f,c,n[9],5,568446438),c=o(c,u,a,f,n[14],9,-1019803690),f=o(f,c,u,a,n[3],14,-187363961),a=o(a,f,c,u,n[8],20,1163531501),u=o(u,a,f,c,n[13],5,-1444681467),c=o(c,u,a,f,n[2],9,-51403784),f=o(f,c,u,a,n[7],14,1735328473),a=o(a,f,c,u,n[12],20,-1926607734),u=i(u,a,f,c,n[5],4,-378558),c=i(c,u,a,f,n[8],11,-2022574463),f=i(f,c,u,a,n[11],16,1839030562),a=i(a,f,c,u,n[14],23,-35309556),u=i(u,a,f,c,n[1],4,-1530992060),c=i(c,u,a,f,n[4],11,1272893353),f=i(f,c,u,a,n[7],16,-155497632),a=i(a,f,c,u,n[10],23,-1094730640),u=i(u,a,f,c,n[13],4,681279174),c=i(c,u,a,f,n[0],11,-358537222),f=i(f,c,u,a,n[3],16,-722521979),a=i(a,f,c,u,n[6],23,76029189),u=i(u,a,f,c,n[9],4,-640364487),c=i(c,u,a,f,n[12],11,-421815835),f=i(f,c,u,a,n[15],16,530742520),a=i(a,f,c,u,n[2],23,-995338651),u=s(u,a,f,c,n[0],6,-198630844),c=s(c,u,a,f,n[7],10,1126891415),f=s(f,c,u,a,n[14],15,-1416354905),a=s(a,f,c,u,n[5],21,-57434055),u=s(u,a,f,c,n[12],6,1700485571),c=s(c,u,a,f,n[3],10,-1894986606),f=s(f,c,u,a,n[10],15,-1051523),a=s(a,f,c,u,n[1],21,-2054922799),u=s(u,a,f,c,n[8],6,1873313359),c=s(c,u,a,f,n[15],10,-30611744),f=s(f,c,u,a,n[6],15,-1560198380),a=s(a,f,c,u,n[13],21,1309151649),u=s(u,a,f,c,n[4],6,-145523070),c=s(c,u,a,f,n[11],10,-1120210379),f=s(f,c,u,a,n[2],15,718787259),a=s(a,f,c,u,n[9],21,-343485551),t[0]=e(u,t[0]),t[1]=e(a,t[1]),t[2]=e(f,t[2]),t[3]=e(c,t[3])},a=function(t){var e,n=[];for(e=0;64>e;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n},f=function(t){var e,n=[];for(e=0;64>e;e+=4)n[e>>2]=t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24);return n},c=function(t){var e,n,r,o,i,s,f=t.length,c=[1732584193,-271733879,-1732584194,271733878];for(e=64;f>=e;e+=64)u(c,a(t.substring(e-64,e)));for(t=t.substring(e-64),n=t.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;n>e;e+=1)r[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(u(c,r),e=0;16>e;e+=1)r[e]=0;return o=8*f,o=o.toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(o[2],16),s=parseInt(o[1],16)||0,r[14]=i,r[15]=s,u(c,r),c},l=function(t){var e,n,r,o,i,s,a=t.length,c=[1732584193,-271733879,-1732584194,271733878];for(e=64;a>=e;e+=64)u(c,f(t.subarray(e-64,e)));for(t=a>e-64?t.subarray(e-64):new Uint8Array(0),n=t.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;n>e;e+=1)r[e>>2]|=t[e]<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(u(c,r),e=0;16>e;e+=1)r[e]=0;return o=8*a,o=o.toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(o[2],16),s=parseInt(o[1],16)||0,r[14]=i,r[15]=s,u(c,r),c},h=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],p=function(t){var e,n="";for(e=0;4>e;e+=1)n+=h[t>>8*e+4&15]+h[t>>8*e&15];return n},d=function(t){var e;for(e=0;e<t.length;e+=1)t[e]=p(t[e]);return t.join("")},v=function(t){return d(c(t))},y=function(){this.reset()};return"5d41402abc4b2a76b9719d911017c592"!==v("hello")&&(e=function(t,e){var n=(65535&t)+(65535&e),r=(t>>16)+(e>>16)+(n>>16);return r<<16|65535&n}),y.prototype.append=function(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),this.appendBinary(t),this},y.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var e,n=this._buff.length;for(e=64;n>=e;e+=64)u(this._state,a(this._buff.substring(e-64,e)));return this._buff=this._buff.substr(e-64),this},y.prototype.end=function(t){var e,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;o>e;e+=1)i[e>>2]|=r.charCodeAt(e)<<(e%4<<3);return this._finish(i,o),n=t?this._state:d(this._state),this.reset(),n},y.prototype._finish=function(t,e){var n,r,o,i=e;if(t[i>>2]|=128<<(i%4<<3),i>55)for(u(this._state,t),i=0;16>i;i+=1)t[i]=0;n=8*this._length,n=n.toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(n[2],16),o=parseInt(n[1],16)||0,t[14]=r,t[15]=o,u(this._state,t)},y.prototype.reset=function(){return this._buff="",this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},y.prototype.destroy=function(){delete this._state,delete this._buff,delete this._length},y.hash=function(t,e){/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t)));var n=c(t);return e?n:d(n)},y.hashBinary=function(t,e){var n=c(t);return e?n:d(n)},y.ArrayBuffer=function(){this.reset()},y.ArrayBuffer.prototype.append=function(t){var e,n=this._concatArrayBuffer(this._buff,t),r=n.length;for(this._length+=t.byteLength,e=64;r>=e;e+=64)u(this._state,f(n.subarray(e-64,e)));return this._buff=r>e-64?n.subarray(e-64):new Uint8Array(0),this},y.ArrayBuffer.prototype.end=function(t){var e,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;o>e;e+=1)i[e>>2]|=r[e]<<(e%4<<3);return this._finish(i,o),n=t?this._state:d(this._state),this.reset(),n},y.ArrayBuffer.prototype._finish=y.prototype._finish,y.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},y.ArrayBuffer.prototype.destroy=y.prototype.destroy,y.ArrayBuffer.prototype._concatArrayBuffer=function(t,e){var n=t.length,r=new Uint8Array(n+e.byteLength);return r.set(t),r.set(new Uint8Array(e),n),r},y.ArrayBuffer.hash=function(t,e){var n=l(new Uint8Array(t));return e?n:d(n)},y})},{}]},{},[1]);